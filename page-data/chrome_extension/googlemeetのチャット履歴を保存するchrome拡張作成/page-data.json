{"componentChunkName":"component---src-templates-blog-post-js","path":"/chrome_extension/googlemeetのチャット履歴を保存するchrome拡張作成/","result":{"data":{"site":{"siteMetadata":{"title":"shu1007 技術メモ","author":"shu1007","siteUrl":"https://shu1007.github.io","comment":{"disqusShortName":"","utterances":"shu1007/shu1007.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"b76b55ed-0c01-5066-a00b-83b6ea3d4056","excerpt":"1 記事書いて満足して一切書いてなかったので、メモ代わりに定期的に書いていきたい。。。 MeetChatLogger 仕事のミーティング等で Google Meet をたまに使っているが、そこに付属されているチャットが少し不便。使ったことのある人はわかると思うが、メッセージが書かれたときにオンラインな人に配信されてサーバにはいっさい保存されない仕様っぽい。なので部屋に入り直しただけで自分からはメッセージが消失してしまう。 それを手軽に解決するためにMeetChatLoggerという chrome 拡張を作成。 meet のチャット履歴を chrome…","html":"<p>1 記事書いて満足して一切書いてなかったので、メモ代わりに定期的に書いていきたい。。。</p>\n<h2 id=\"meetchatlogger\" style=\"position:relative;\"><a href=\"#meetchatlogger\" aria-label=\"meetchatlogger permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MeetChatLogger</h2>\n<p>仕事のミーティング等で Google Meet をたまに使っているが、そこに付属されているチャットが少し不便。使ったことのある人はわかると思うが、メッセージが書かれたときにオンラインな人に配信されてサーバにはいっさい保存されない仕様っぽい。なので部屋に入り直しただけで自分からはメッセージが消失してしまう。</p>\n<p>それを手軽に解決するために<a href=\"https://chrome.google.com/webstore/detail/meetchatlogger/ijhffeahfngojfmkdoleghdbgeebknko?hl=ja&#x26;\">MeetChatLogger</a>という chrome 拡張を作成。</p>\n<p>meet のチャット履歴を chrome storage に保存して、chrome 拡張のポップアップから確認できるようにしたもの。</p>\n<h2 id=\"react\" style=\"position:relative;\"><a href=\"#react\" aria-label=\"react permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React</h2>\n<p>今回の拡張のポップアップ部分を React で書くことにしました。環境構築はほぼ<a href=\"https://medium.com/litslink/how-to-create-google-chrome-extension-using-react-js-5c9e343323ff\">こちら</a>をそのまま実施。特に詰まることなく出来た。</p>\n<h3 id=\"content-script-も-typescript-で\" style=\"position:relative;\"><a href=\"#content-script-%E3%82%82-typescript-%E3%81%A7\" aria-label=\"content script も typescript で permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>content script も typescript で</h3>\n<p>上記のサイトで TypeScript+React でポップアップ箇所を作れると同時に content script 部分も typescript で記述できるように設定を説明してくれてるので助かった。</p>\n<h2 id=\"chromestorage\" style=\"position:relative;\"><a href=\"#chromestorage\" aria-label=\"chromestorage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>chrome.storage</h2>\n<p>今回チャット履歴を保存する場所として chrome.storage を利用した。すごく簡単に扱えて良い。</p>\n<ul>\n<li>localstorage っぽいもの</li>\n<li>\n<p>localstorage は 5MB の制限があるが、chrome.storage では local に保存すると制限無しで保存できるみたい</p>\n<ul>\n<li>権限に<code class=\"language-text\">unlimitedStorage</code>を加える</li>\n</ul>\n</li>\n<li>\n<p>chrome.storage.sync を用いると、同じアカウントでデータを共有できるらしい</p>\n<ul>\n<li>サイズの制限があるので今回は使わなかった</li>\n</ul>\n</li>\n<li>content script やポップ側のコードからも chrome.storage.local.get などで簡単に呼べる</li>\n</ul>\n<h2 id=\"締め\" style=\"position:relative;\"><a href=\"#%E7%B7%A0%E3%82%81\" aria-label=\"締め permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>締め</h2>\n<p>Chrome の拡張は何個か書いたことがあったが React を使ったのは今回が初めてだった。が、特に障害なく書けるので今度アイデアが湧いたらまた何か作りたい。</p>\n<p>コードは以下のリポジトリです。\n<a href=\"https://github.com/shu1007/meet-chat-logger\">https://github.com/shu1007/meet-chat-logger</a></p>","frontmatter":{"title":"GoogleMeetのチャット履歴を保存するChrome拡張作成","date":"September 14, 2021"}}},"pageContext":{"slug":"/chrome_extension/googlemeetのチャット履歴を保存するchrome拡張作成/","previous":{"fields":{"slug":"/react/gatsbyでブログを作ってみた/"},"frontmatter":{"title":"Gatsbyでブログを作ってみた","category":"react","draft":false}},"next":null}},"staticQueryHashes":["3128451518","521680639"]}